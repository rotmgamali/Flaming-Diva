<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Rainbow Flame Denim - Flaming Diva Custom Jackets">
    <title>Rainbow Flame Denim | Flaming Diva</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Helvetica+Neue:wght@300;400;500&family=Inter:wght@300;400;500&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Announcement Bar -->
    <div class="announcement-bar">
        <div class="announcement-slider">
            <p>Complimentary Shipping & Returns</p>
        </div>
    </div>

    <!-- Header -->
    <header class="header" id="header">
        <nav class="nav">
            <div class="nav-left">
                <button class="nav-toggle" id="nav-toggle" aria-label="Menu" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="collections.html" class="nav-link">Shop All</a>
                    </li>
                    <li class="nav-item">
                        <a href="about.html" class="nav-link">About</a>
                    </li>
                    <li class="nav-item">
                        <a href="contact.html" class="nav-link">Contact</a>
                    </li>
                </ul>
            </div>

            <a href="index.html" class="logo"><img src="images/logo.png" alt="Flaming Diva" class="logo-img"></a>

            <div class="nav-right">
                <button class="nav-icon search-btn" aria-label="Search">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="1.5">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </button>
                <a href="account.html" class="nav-icon" aria-label="Account">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="1.5">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </a>
                <button class="nav-icon cart-btn" id="cart-toggle" aria-label="Cart" onclick="toggleCart()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="1.5">
                        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <path d="M16 10a4 4 0 0 1-8 0"></path>
                    </svg>
                    <span class="cart-count">0</span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-content">
            <a href="index.html" class="mobile-link">Home</a>
            <a href="collections.html" class="mobile-link">Shop All</a>
            <a href="about.html" class="mobile-link">About</a>
            <a href="contact.html" class="mobile-link">Contact</a>
            <div class="mobile-divider"></div>
            <a href="account.html" class="mobile-link-sm">Account</a>
            <a href="orders.html" class="mobile-link-sm">Orders</a>
        </div>
    </div>

    <!-- Product Detail -->
    <main class="product-detail">
        <div class="product-gallery">
            <div class="gallery-main">
                <img src="images/product-1.jpg" alt="Third Eye Patched Leather" id="main-image">
            </div>
            <div class="gallery-thumbs">
                <button class="thumb active" data-image="images/product-1.jpg">
                    <img src="images/product-1.jpg" alt="Front View">
                </button>
                <button class="thumb" data-image="images/product-1-hover.jpg">
                    <img src="images/product-1-hover.jpg" alt="Back View">
                </button>
                <button class="thumb" data-image="images/product-1.jpg">
                    <img src="images/product-1.jpg" alt="Detail View">
                </button>
            </div>
        </div>

        <div class="product-info-detail">
            <div class="product-breadcrumb">
                <a href="index.html">Home</a>
                <span>/</span>
                <a href="collections.html">Jackets</a>
                <span>/</span>
                <span>Rainbow Flame Denim</span>
            </div>

            <h1 class="product-title">Rainbow Flame Denim</h1>
            <p class="product-price-detail">$350 USD</p>

            <div class="product-size-section">
                <div class="size-header">
                    <span class="size-label">Size</span>
                    <button class="size-guide-btn">Size Guide</button>
                </div>
                <div class="size-options">
                    <button class="size-btn" data-size="XS">XS</button>
                    <button class="size-btn" data-size="S">S</button>
                    <button class="size-btn active" data-size="M">M</button>
                    <button class="size-btn" data-size="L">L</button>
                    <button class="size-btn" data-size="XL">XL</button>
                    <button class="size-btn disabled" data-size="XXL" disabled>XXL</button>
                </div>
            </div>

            <button class="add-to-bag-btn" id="add-to-bag">
                <span>Add to Bag</span>
            </button>

            <div class="product-accordions">
                <div class="accordion">
                    <button class="accordion-header active">
                        <span>Description</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="accordion-content active">
                        <p>A vintage light wash denim jacket reimagined with our signature Rainbow Flame patch.
                            Hand-distressed and treated for a unique, lived-in feel.</p>
                        <ul>
                            <li>Vintage Light Wash Denim</li>
                            <li>Signature Rainbow Flame Patch</li>
                            <li>Hand-Distressed Details</li>
                            <li>Unisex Oversized Fit</li>
                            <li>1 of 1 Creation</li>
                        </ul>
                    </div>
                </div>

                <div class="accordion">
                    <button class="accordion-header">
                        <span>Materials & Care</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="accordion-content">
                        <p>Shell: 100% Upcycled Cotton Denim<br>
                            Patches: Mixed Media</p>
                        <p>Gentle cycle cold inside out. Hang dry. Do not iron patches.</p>
                    </div>
                </div>

                <div class="accordion">
                    <button class="accordion-header">
                        <span>Shipping & Returns</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="accordion-content">
                        <p>Complimentary shipping on all orders. Standard delivery 5-7 business days. Express delivery
                            2-3 business days.</p>
                        <p>Returns accepted within 14 days of delivery. Items must be unworn with all tags attached.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- You May Also Like -->
    <section class="products-section">
        <div class="products-header">
            <h2>You May Also Like</h2>
            <a href="collections.html" class="view-all">View All</a>
        </div>
        <div class="products-grid">
            <article class="product-card" data-id="20">
                <a href="product.html?id=20" class="product-link">
                    <div class="product-image">
                        <img src="images/retro-jacket.jpg" alt="Synthwave Retro Varsity">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Synthwave Retro Varsity</h3>
                        <p class="product-price">$895 USD</p>
                    </div>
                </a>
                <button class="quick-add-btn" data-product-id="20">+ Quick Add</button>
            </article>
            <article class="product-card" data-id="21">
                <a href="product.html?id=21" class="product-link">
                    <div class="product-image">
                        <img src="images/space-jacket.jpg" alt="Zero-G Holographic Bomber">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Zero-G Holographic Bomber</h3>
                        <p class="product-price">$1,295 USD</p>
                    </div>
                </a>
                <button class="quick-add-btn" data-product-id="21">+ Quick Add</button>
            </article>
            <article class="product-card" data-id="27">
                <a href="product.html?id=27" class="product-link">
                    <div class="product-image">
                        <img src="images/retro-jacket-2.jpg" alt="Cyber Punk Rider">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Cyber Punk Rider</h3>
                        <p class="product-price">$1,195 USD</p>
                    </div>
                </a>
                <button class="quick-add-btn" data-product-id="27">+ Quick Add</button>
            </article>
            <article class="product-card" data-id="26">
                <a href="product.html?id=26" class="product-link">
                    <div class="product-image">
                        <img src="images/space-jacket-2.jpg" alt="Nebula Drifter">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Nebula Drifter</h3>
                        <p class="product-price">$995 USD</p>
                    </div>
                </a>
                <button class="quick-add-btn" data-product-id="26">+ Quick Add</button>
            </article>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-logo">
            <a href="index.html">
                <img src="images/logo.png" alt="Flaming Diva" class="footer-logo-img">
            </a>
        </div>
        <div class="footer-main">
            <div class="footer-column">
                <h4>Shop</h4>
                <ul>
                    <li><a href="collections.html">All Jackets</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Company</h4>
                <ul>
                    <li><a href="about.html">About Diva</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Connect</h4>
                <ul>
                    <li><a href="https://instagram.com/flamingdiva" target="_blank" rel="noopener">Instagram</a></li>
                </ul>
            </div>
            <div class="footer-column footer-newsletter">
                <h4>Newsletter</h4>
                <p>Sign up to receive Flaming Diva updates</p>
                <form class="newsletter-form" id="newsletter-form">
                    <input type="email" placeholder="Email Address" required>
                    <button type="submit">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7" />
                        </svg>
                    </button>
                </form>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="footer-legal">
                <span>&copy; 2024 Flaming Diva</span>
                <a href="privacy.html">Privacy Policy</a>
                <a href="terms.html">Terms of Service</a>
            </div>
        </div>
    </footer>

    <!-- Search Overlay -->
    <div class="search-overlay" id="search-overlay">
        <div class="search-container">
            <form class="search-form">
                <input type="text" placeholder="Search" autofocus>
                <button type="button" class="search-close" id="search-close">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="1.5">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </form>
        </div>
    </div>

    <!-- Cart Drawer -->
    <div class="cart-drawer" id="cart-drawer">
        <div class="cart-header">
            <h3>SHOPPING CART</h3>
            <button class="cart-close" id="cart-close">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="cart-content" id="cart-content">
            <div class="cart-empty">
                <p>Your cart is currently empty.</p>
                <a href="index.html" class="continue-shopping">Continue Shopping</a>
            </div>
        </div>
        <div class="cart-footer">
            <div class="cart-subtotal">
                <span>Subtotal</span>
                <span id="cart-total">$0.00</span>
            </div>
            <p class="cart-note">Shipping & taxes calculated at checkout</p>
            <button class="checkout-btn" id="checkout-btn" disabled>Checkout</button>
        </div>
    </div>
    <div class="overlay" id="overlay"></div>

    <script src="script.js"></script>
    <script>
        // Use global productCatalog from script.js
        let currentProduct = null;

        // Ensure productCatalog is available
        if (typeof productCatalog === 'undefined') {
            console.error('productCatalog not loaded from script.js');
        }

        // Product page specific functionality
        document.addEventListener('DOMContentLoaded', () => {
            loadProductData();
            initGallery();
            initSizeSelector();
            initAccordions();
            initAddToBag();
        });

        function loadProductData() {
            const urlParams = new URLSearchParams(window.location.search);
            // Default to first product if no ID
            const productId = parseInt(urlParams.get('id')) || (productCatalog && productCatalog[0].id) || 20;

            if (typeof productCatalog !== 'undefined') {
                currentProduct = productCatalog.find(p => p.id === productId) || productCatalog[0];
            } else {
                // Fallback if script.js fails
                return;
            }

            // Update page title
            document.title = `${currentProduct.name} | Flaming Diva`;

            // Update product title
            document.querySelector('.product-title').textContent = currentProduct.name;

            // Update price
            document.querySelector('.product-price-detail').textContent = currentProduct.priceText;

            // Update main image
            document.getElementById('main-image').src = currentProduct.image;
            document.getElementById('main-image').alt = currentProduct.name;

            // Update breadcrumb
            document.querySelector('.product-breadcrumb span:last-child').textContent = currentProduct.name;

            // Update thumbnails
            const thumbsContainer = document.querySelector('.gallery-thumbs');
            thumbsContainer.innerHTML = `
                <button class="thumb active" data-image="${currentProduct.image}">
                    <img src="${currentProduct.image}" alt="Front View">
                </button>
                <button class="thumb" data-image="${currentProduct.hoverImage}">
                    <img src="${currentProduct.hoverImage}" alt="Back View">
                </button>
            `;

            // Update description
            const descContent = document.querySelector('.accordion-content.active');
            if (descContent) {
                descContent.innerHTML = `
                    <p>${currentProduct.description}</p>
                    <ul>
                        ${currentProduct.features.map(f => `<li>${f}</li>`).join('')}
                    </ul>
                `;
            }

            // Re-init gallery after updating thumbs
            initGallery();
        }

        function initGallery() {
            const thumbs = document.querySelectorAll('.thumb');
            const mainImage = document.getElementById('main-image');

            thumbs.forEach(thumb => {
                thumb.addEventListener('click', () => {
                    thumbs.forEach(t => t.classList.remove('active'));
                    thumb.classList.add('active');
                    mainImage.src = thumb.dataset.image;
                });
            });
        }

        function initSizeSelector() {
            const sizeBtns = document.querySelectorAll('.size-btn:not(.disabled)');

            sizeBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    sizeBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                });
            });
        }

        function initAccordions() {
            const headers = document.querySelectorAll('.accordion-header');

            headers.forEach(header => {
                header.addEventListener('click', () => {
                    const isActive = header.classList.contains('active');

                    // Close all
                    document.querySelectorAll('.accordion-header').forEach(h => h.classList.remove('active'));
                    document.querySelectorAll('.accordion-content').forEach(c => c.classList.remove('active'));

                    // Open clicked if wasn't active
                    if (!isActive) {
                        header.classList.add('active');
                        header.nextElementSibling.classList.add('active');
                    }
                });
            });
        }

        function initAddToBag() {
            const addBtn = document.getElementById('add-to-bag');

            addBtn.addEventListener('click', () => {
                const selectedSize = document.querySelector('.size-btn.active');
                if (!selectedSize) {
                    alert('Please select a size');
                    return;
                }

                const item = {
                    name: currentProduct.name,
                    price: currentProduct.price,
                    size: selectedSize.dataset.size,
                    image: currentProduct.image
                };

                addToCart(item);

                // Button feedback
                addBtn.innerHTML = '<span>Added to Bag âœ“</span>';
                addBtn.style.background = '#1a1a1a';

                setTimeout(() => {
                    addBtn.innerHTML = '<span>Add to Bag</span>';
                    addBtn.style.background = '';
                }, 2000);
            });
        }
    </script>
</body>

</html>